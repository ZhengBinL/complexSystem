<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=`, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>index1</title>
    <link rel="stylesheet" href="../asset/css/reset.css">
    <link rel="stylesheet" href="../asset/css/common.css">
    <link rel="stylesheet" href="../asset/css/index1.css">
    <script src="../asset/js/jquery.min.js"></script>
</head>
<body>
    <!--头部-->
    <div class="header" id="header">
        <div class="header-rt">
            <ul>
                <li class="notice-wrapper">
                    <img class="notice-icon" src="../asset/img/notice.png" alt="通知">
                </li>
                <li class="user-notice">
                    <div id="user-operate" class="user-operate">
                        <img class="user-img" src="../asset/img/logo.png" alt="头像">
                        <a href="javascript:;">管理</a>
                        <img class="icon-drop" src="../asset/img/drop-down.png" alt="下拉展开">
                    </div>
                    <!-- <div id="dropDown" class="drop-down">
                        <a href="#">1</a>
                        <a href="#">2</a>
                        <a href="#">3</a>
                    </div> -->
                </li>
            </ul>
        </div>
    </div>
    <!-- 倒计时 -->
    <div class="time-end">
        <div style="display: inline-block;">
            <span class="txt">连续保持安全稳定</span>
            <div id="handleCount" class="js-numbs numbs"></div>
            <span class="txt">天</span>
            </div>
            <div style="display: inline-block;">
            <span class="txt">距实现年度“四无”目标还有</span>
            <div id="unhandleCount" class="js-numbs numbs"></div>
            <span class="txt">天</span>
        </div>
    </div>
    <!-- 操作按钮 -->
    <div class="container">
        <div class="row-first">
            <a href="./monitor.html" class="complex-monitor" title="综合监控"></a>
            <a href="#" class="fixed-duty" title="固定勤务"></a>
            <a href="#" class="call-police" title="报警"></a>
        </div>
        <div class="row-second">
            <div class="row-second-lt">
                <a href="#" class="world-run" title="周界轮巡"></a>
                <a href="#" class="duty-schedule" title="执勤排班"></a>
            </div>
            <a href="#" class="tv-wall" title="电视墙"></a>
            <a href="#" class="data-view" title="数据可视化"></a>
            <a href="#" class="three-view" title="三维可视化"></a>
        </div>
    </div>
    <div class="footer">
        技术支持：北京国势通科技有限公司
    </div>

    <script>
        $('#user-operate').on('click',function(){
            $('#dropDown').toggle()
        })
        // 数字动画
        var Event = {
            number: function(digit) {
            var num_arr = [];
            for(var i = 0; i < digit.length; i++) {
                num_arr.push(digit.charAt(i));
            }
            return num_arr;
            },
            dom: function(arr) {
            var str = '';
            for(var i = 0; i < arr.length; i++) {
                if(parseInt(arr[i]) >= 0) {
                str += '<div class="js-digit digit-container" data-show=' + arr[i] + '>\
                    <i>0</i>\
                    <i>1</i>\
                    <i>2</i>\
                    <i>3</i>\
                    <i>4</i>\
                    <i>5</i>\
                    <i>6</i>\
                    <i>7</i>\
                    <i>8</i>\
                    <i>9</i>\
                </div>';
                } else {
                str += '<div class="sign-box l"><span>' + arr[i] + '</span></div>';
                }
            }
            return str;
        },
        animation: function() {
            var height = $(".js-numbs").height();
            $(".js-digit").each(function(i) {
                var num = parseInt($(this).data("show"));
                var scrollTop = 0;
                var scrollTop = height * num;
                $(this).css("margin-top", 0);
                $(this).animate({
                marginTop: -scrollTop
                }, 1500);
            });
            }
        };
        var numb1 = '10240';
        var final_arr1 = Event.number(numb1);
        $("#alarmCount").html(Event.dom(final_arr1));

        var final_arr2 = Event.number('02849');
        $("#handleCount").html(Event.dom(final_arr2));

        var final_arr3 = Event.number('09999');
        $("#unhandleCount").html(Event.dom(final_arr3));

        Event.animation();
    </script>
</body>
</html>