<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=`, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>index1</title>
    <link rel="stylesheet" href="../asset/css/reset.css">
    <link rel="stylesheet" href="../asset/css/common.css">
    <link rel="stylesheet" href="../asset/css/index1.css">
    <script src="../asset/js/jquery.min.js"></script>
    <script src="../asset/js/index.js"></script>
</head>
<body>
    <!--头部-->
    <div class="header">
        <div class="header-rt">
            <ul>
                <li>
                    <img class="noticeIcon" src="../asset/img/notice.png" alt="通知">
                </li>
                <li class="userNotice">
                    <div id="user-operate">
                        <img class="userImg" src="../asset/img/logo.png" alt="头像"><span>管理</span><img class="drop-down" src="../asset/img/drop-down.png" alt="下拉展开">
                    </div>
                    <div id="dropDown" class="dropDown">
                        <p id="">1</p>
                        <p id="">2</p>
                        <p id="">3</p>
                    </div>
                </li>
            </ul>
        </div>
    </div>
    <!-- 倒计时 -->
    <div class="time-end">
        <div style="display: inline-block;">
            <span class="txt">连续保持安全稳定</span>
            <div id="handleCount" class="js-numbs numbs"></div>
            <span class="txt">天</span>
            </div>
            <div style="display: inline-block;">
            <span class="txt">距实现年度“四无”目标还有</span>
            <div id="unhandleCount" class="js-numbs numbs"></div>
            <span class="txt">天</span>
        </div>
    </div>
    <!-- 操作按钮 -->
    <div class="operate-btn top-btn">
        <a href=""></a>
        <a href=""></a>
        <a href=""></a>
        <img class="complex-monitor" src="../asset/img/complex-monitor.png" alt="综合监控">
        <img class="fixed-duty" src="../asset/img/fixed-duty.png" alt="固定勤务">
        <img class="call-police" src="../asset/img/call-police.png" alt="报警">
    </div>
    <div class="operate-btn">
        <div class="thr-operate">
            <div class="two-operate">
                <img class="world-run" src="../asset/img/world-run.png" alt="周界轮巡">
                <img class="duty-schedule" src="../asset/img/duty-schedule.png" alt="执勤排班">
            </div>
            <img class="tv-wall" src="../asset/img/tv-wall.png" alt="电视墙">
        </div>
        <img class="data-view" src="../asset/img/data-view.png" alt="数据可视化">
        <img class="three-view" src="../asset/img/three-view.png" alt="三维可视化">
    </div>
    <script>
        
    </script>
    <script>
        $('#user-operate').on('click',function(){
            $('#dropDown').toggle()
        })
        // 数字动画
        var Event = {
            number: function(digit) {
            var num_arr = [];
            for(var i = 0; i < digit.length; i++) {
                num_arr.push(digit.charAt(i));
            }
            return num_arr;
            },
            dom: function(arr) {
            var str = '';
            for(var i = 0; i < arr.length; i++) {
                if(parseInt(arr[i]) >= 0) {
                str += '<div class="js-digit digit-container" data-show=' + arr[i] + '>\
                    <i>0</i>\
                    <i>1</i>\
                    <i>2</i>\
                    <i>3</i>\
                    <i>4</i>\
                    <i>5</i>\
                    <i>6</i>\
                    <i>7</i>\
                    <i>8</i>\
                    <i>9</i>\
                </div>';
                } else {
                str += '<div class="sign-box l"><span>' + arr[i] + '</span></div>';
                }
            }
            return str;
        },
        animation: function() {
            var height = $(".js-numbs").height();
            $(".js-digit").each(function(i) {
                var num = parseInt($(this).data("show"));
                var scrollTop = 0;
                var scrollTop = height * num;
                $(this).css("margin-top", 0);
                $(this).animate({
                marginTop: -scrollTop
                }, 1500);
            });
            }
        };
        var numb1 = '10240';
        var final_arr1 = Event.number(numb1);
        $("#alarmCount").html(Event.dom(final_arr1));

        var final_arr2 = Event.number('02849');
        $("#handleCount").html(Event.dom(final_arr2));

        var final_arr3 = Event.number('09999');
        $("#unhandleCount").html(Event.dom(final_arr3));

        Event.animation();
    </script>
</body>
</html>